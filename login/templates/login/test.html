{% extends 'base.html' %}
{% block content %}
    <script src="/static/tinymce/tinymce.min.js"></script>


    <script>
        tinymce.init({
            language: "zh_CN",
            selector: 'textarea', //表单控件.样式名称 - 绑定textarea
            height: "180", //高度
            width: "280", //宽度
            toolbar_items_size: 'small', //控件大小
            menubar: true, //是否显示菜单栏
            plugins: "link code,autoresize",
            autoresize_bottom_margin: 50,
            autoresize_max_height: 500,
            autoresize_min_height: 350,
            autoresize_on_init: true,
            autoresize_overflow_padding: 50,
            toolbar: "link code",  //控件区，显示控件
            //名称前后显示，影响控件显示位置
        });
    </script>
<!DOCTYPE html>
<html>
<head>
    <title>js判断输入字符串长度（汉字算两个字符，字母数字算一个）</title>
    <style type="text/css">
        .pbt {
            margin-bottom: 10px;
        }

        .ie6 .pbt .ftid a, .ie7 .pbt .ftid a {
            margin-top: 1px;
        }

        .cl:after {
            clear: both;
            content: ".";
            display: block;
            height: 0;
            visibility: hidden;
        }
    </style>
    <script type="text/javascript">
    window.onload=function ClearTextArea(){
         document.getElementById("subject").value="";
      }
      
        //获取字符串长度（汉字算两个字符，字母数字算一个）
        function getByteLen(val) {
            var len = 0;
            for (var i = 0; i < val.length; i++) {
                var a = val.charAt(i);
                if (a.match(/[^\x00-\xff]/ig) != null) {
                    len += 2;
                }
                else {
                    len += 1;
                }
            }
            return len;
        }
        // 只要键盘一抬起就验证编辑框中的文字长度，最大字符长度可以根据需要设定
        function checkLength(obj) {
            var curr = getByteLen(obj.value);
            if (curr >= 80) {
                document.getElementById("checklen").innerHTML = curr.toString();
            } else {
                document.getElementById("checklen").innerHTML = '0';
                document.getElementById("subject").readOnly = true;
            }
        }
    </script>
</head>
<body>
    <div class="pbt cl">
        <textarea style="height: 100px" id="subject" maxlength="80" onkeyup="checkLength(this)" accesskey="1" tabindex="11"  placeholder="字母算一个字符,汉字算两个字符,最多可输入80个字符."></textarea>
        <span id="subjectchk">已经输入
        <strong id="checklen" style="color: #FF0000">0</strong>
            个字符
        </span>
        <span id="postNameRule" class="spn_flag_1" style="display: none"></span>
    </div>
    <form action="http://192.168.1.107:8082/textAjax1" enctype="multipart/form-data" method="post">
    <input type="file" name="uploadFile" id="uploadFile" />
    <form>
</body>
</html>
{% endblock %}